<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>UltimateMathCompanion</title>
    <script src="main.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
</head>
<body>
<div class="d-flex vh-100 container">
    <div id="calculator" class="align-self-center position-fixed">
        <form name="calculator">
            <div class="btn-group-vertical w-100" role="group">
                <label>
                    <input class="form-control" type="text"  name="ans" value="">
                </label>
                <div class="btn-group" role="group">
                    <input class="btn btn-secondary col-2" type="reset" value="AC">
                    <input class="btn btn-secondary col-2" type="button" value="+/-" onclick="document.calculator.ans.value*=-1">
                    <input class="btn btn-secondary col-2" type="button" value="%" onclick="document.calculator.ans.value/=100">
                    <input class="btn btn-info col-1" type="button" value="/" onclick="document.calculator.ans.value+='/'">
                </div>
                <div class="btn-group" role="group">
                    <input class="btn btn-dark col-2" type="button" value="7" onclick="document.calculator.ans.value+='7'">
                    <input class="btn btn-dark col-2" type="button" value="8" onclick="document.calculator.ans.value+='8'">
                    <input class="btn btn-dark col-2" type="button" value="9" onclick="document.calculator.ans.value+='9'">
                    <input class="btn btn-info col-1" type="button" value="*" onclick="document.calculator.ans.value+='*'">
                </div>
                <div class="btn-group" role="group">
                    <input class="btn btn-dark col-2" type="button" value="4" onclick="document.calculator.ans.value+='4'">
                    <input class="btn btn-dark col-2" type="button" value="5" onclick="document.calculator.ans.value+='5'">
                    <input class="btn btn-dark col-2" type="button" value="6" onclick="document.calculator.ans.value+='6'">
                    <input class="btn btn-info col-1" type="button" value="-" onclick="document.calculator.ans.value+='-'">
                </div>
                <div class="btn-group" role="group">
                    <input class="btn btn-dark col-2" type="button" value="1" onclick="document.calculator.ans.value+='1'">
                    <input class="btn btn-dark col-2" type="button" value="2" onclick="document.calculator.ans.value+='2'">
                    <input class="btn btn-dark col-2" type="button" value="3" onclick="document.calculator.ans.value+='3'">
                    <input class="btn btn-info col-1" type="button" value="+" onclick="document.calculator.ans.value+='+'">
                </div>
                <div class="btn-group" role="group">
                    <input class="btn btn-dark col-5" type="button" value="0" onclick="document.calculator.ans.value+='0'">
                    <input class="btn btn-dark col-2" type="button" value="." onclick="document.calculator.ans.value+='.'">
                    <input class="btn btn-info col-1" type="button" value="="
                           onclick="document.calculator.ans.value=eval(document.calculator.ans.value)">
                </div>
            </div>
        </form>
    </div>

    <div id="expressions-list" class="ms-auto mt-4 w-75">
        <div class="btn-group w-100">
            <a th:href="@{/addExpression}" class="btn btn-info">Add New</a>
            <a th:onclick="'redirectToUpdate();'" class="btn btn-info">Update</a>
            <a class="btn btn-info" onclick="if (confirm('Are you sure you want to delete this?')) redirectToDelete();">
                Delete
            </a>
        </div>

        <table class="table table-bordered table-striped table-hover table-active">
        <thead class="thead-dark">
        <tr class="text-center">
            <th class="col-auto">â„–</th>
            <th class="col-4">Expression</th>
            <th class="col-2">Answer</th>
            <th class="col-2">Date</th>
            <th class="col-auto">Type</th>
            <th class="col-5">Complexity</th>
        </tr>
        </thead>
        <tbody>

        <tr class="text-center" th:each="tempExpression, expressionStat: ${theExpression}"
                th:attr="onclick=|selectRow(this,'${tempExpression.getId()}')|">
                <td th:text="${expressionStat.count}"></td>
                <td th:text="${tempExpression.expression}"></td>
                <td th:text="${tempExpression.answer}"></td>
                <td th:text="${tempExpression.date}"></td>
                <td th:text="${tempExpression.expressionTypes.getType()}"></td>
                <td th:text="${tempExpression.expressionTypes.expressionComplexity.getDescription()}"></td>
            </tr>
        </tbody>
        </table>
    </div>
</div>
</body>
</html>